<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <!-- Meta tags for social media banners, keywords, viewport -->
  <meta name="description" content="DESCRIPTION META TAG">
  <meta property="og:title" content="SOCIAL MEDIA TITLE TAG" />
  <meta property="og:description" content="SOCIAL MEDIA DESCRIPTION TAG" />
  <meta property="og:url" content="URL OF THE WEBSITE" />
  <meta property="og:image" content="static/image/your_banner_image.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:title" content="TWITTER BANNER TITLE META TAG">
  <meta name="twitter:description" content="TWITTER BANNER DESCRIPTION META TAG">
  <meta name="twitter:image" content="static/images/your_twitter_banner_image.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="keywords" content="KEYWORDS SHOULD BE PLACED HERE">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>AgReason: A Benchmark for Agricultural Reasoning</title>
  <link rel="icon" type="image/x-icon" href="static/images/favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <!-- Bulma & related CSS -->
  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="static/css/index.css">

  <!-- DataTables Bulma integration CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bulma.min.css">

  <!-- jQuery & other scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script src="static/js/bulma-carousel.min.js"></script>
  <script src="static/js/bulma-slider.min.js"></script>
  <script src="static/js/index.js"></script>

  <!-- DataTables core & Bulma JS -->
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js" defer></script>
  <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bulma.min.js" defer></script>
</head>

<body>

  <!-- ===== Hero / Header ===== -->
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">AgReason: A Benchmark for Agricultural Reasoning</h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="FIRST AUTHOR PERSONAL LINK" target="_blank">First Author</a><sup>*</sup>,
              </span>
              <span class="author-block">
                <a href="SECOND AUTHOR PERSONAL LINK" target="_blank">Second Author</a><sup>*</sup>,
              </span>
              <span class="author-block">
                <a href="THIRD AUTHOR PERSONAL LINK" target="_blank">Third Author</a>
              </span>
            </div>
            <div class="is-size-5 publication-authors">
              <span class="author-block">Iowa State University<br>Conference Name and Year</span>
              <span class="eql-cntrb"><small><br><sup>*</sup>Indicates Equal Contribution</small></span>
            </div>
            <div class="publication-links">
              <span class="link-block">
                <a href="https://arxiv.org/pdf/<ARXIV PAPER ID>.pdf" target="_blank"
                  class="button is-normal is-rounded is-dark">
                  <span class="icon"><i class="fas fa-file-pdf"></i></span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://github.com/baskargroup/Ag_reasoning" target="_blank"
                  class="button is-normal is-rounded is-dark">
                  <span class="icon"><i class="fab fa-github"></i></span>
                  <span>Code</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://arxiv.org/abs/<ARXIV PAPER ID>" target="_blank"
                  class="button is-normal is-rounded is-dark">
                  <span class="icon"><i class="ai ai-arxiv"></i></span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- Dataset -->
              <span class="link-block">
                <a href="https://your-dataset-url.com" target="_blank" class="button is-normal is-rounded is-dark">
                  <span class="icon"><i class="fas fa-database"></i></span>
                  <span>Dataset</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Teaser / Banner (SVG) ===== -->
  <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
        <img src="static/images/ag_question_categories_fixed2.svg"
          alt="A conceptual overview of categorized agricultural question types" style="width:100%; height:auto;">
        <h2 class="subtitle has-text-centered">
          A conceptual overview of categorized agricultural question types.
        </h2>
      </div>
    </div>
  </section>

  <!-- ===== Abstract ===== -->
  <section class="section hero is-light">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Abstract</h2>
          <div class="content has-text-justified">
            <p>
              We introduce <strong>AgReason</strong>, a domain-specific benchmark that probes how well large language
              models (LLMs) perform on agronomy—an area where general-purpose QA tests provide little insight.
            </p>
            <ul>
              <li>
                <em>AgThoughts Dataset</em> — 44.4K expert-seeded questions whose answers and step-by-step traces were
                produced by state-of-the-art reasoning LLMs and automatically screened for correctness.
              </li>
              <li>
                <em>AgReason Benchmark</em> — a 100-item gold set covering 10 agronomic categories, validated by domain
                experts and using an LLM-as-judge for head-to-head evaluation of model performance.
              </li>
              <li>
                <em>AgThinker-8B</em> — a Phi3 8B model fine-tuned on our dataset that improves exact-match accuracy by
                10 percentage points over instruction-tuned baselines and narrows the gap to expert agronomists.
              </li>
            </ul>
            <p>
              Experiments on fifteen open and proprietary models confirm that reasoning-centric architectures
              consistently outperform traditional counterparts, yet still stumble in some areas. AgReason thus offers
              both a focused yardstick and a training resource for future agricultural AI.
            </p>
            <p>
              For more details, please visit our project page:
              <a href="https://baskargroup.github.io/Ag_reasoning/" target="_blank" rel="noopener">AgReason Leader
                Board</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
<!-- ===== Improved Leaderboard Section ===== -->
<section class="section" id="leaderboard-section">
  <div class="container is-max-desktop">
    <h2 class="title is-3 has-text-centered">Model Performance Leaderboard</h2>
    
    <!-- Category Filter Tabs -->
    <div class="tabs is-centered is-boxed" id="category-tabs">
      <ul>
        <li class="is-active" data-view="overall"><a>Overall</a></li>
        <li data-view="abiotic"><a>Abiotic Factors</a></li>
        <li data-view="biotic"><a>Biotic Factors</a></li>
        <li data-view="crop"><a>Crop</a></li>
        <li data-view="management"><a>Management</a></li>
        <li data-view="custom"><a>Custom View</a></li>
      </ul>
    </div>
    
    <!-- Custom View Options (initially hidden) -->
    <div id="custom-view-options" style="display: none;" class="mb-4">
      <div class="field is-grouped is-grouped-multiline is-flex-wrap-wrap is-justify-content-center">
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="1" checked>
            Harvest Quality
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="2" checked>
            In-Season Nutrients
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="3" checked>
            Soil
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="4" checked>
            Weather
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="5" checked>
            Diseases
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="6" checked>
            Insects
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="7" checked>
            Weeds
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="8" checked>
            Cover Crop
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="9" checked>
            Crop
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="10" checked>
            Management
          </label>
        </div>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox" class="toggle-col" data-column="11" checked>
            Overall
          </label>
        </div>
      </div>
    </div>

    <!-- Table wrapper with shadow and rounded corners -->
    <div class="box table-container">
      <table id="leaderboard" class="table is-striped is-hoverable is-fullwidth">
        <thead>
          <tr>
            <th>Model</th>
            <th>Harvest Quality</th>
            <th>In-Season Nutrients</th>
            <th>Soil</th>
            <th>Weather</th>
            <th>Diseases</th>
            <th>Insects</th>
            <th>Weeds</th>
            <th>Cover Crop</th>
            <th>Crop</th>
            <th>Management</th>
            <th>Overall</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    
    <div class="content is-small has-text-centered mt-3">
      <p>Click on column headers to sort. Use the tabs above to switch between predefined views or create a custom view.</p>
    </div>
  </div>
</section>

  <!-- ===== BibTeX ===== -->
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <pre><code>
@misc{Label Studio,
  title={{Label Studio}: Data labeling software},
  url={https://github.com/HumanSignal/label-studio},
  note={Open source software available from https://github.com/HumanSignal/label-studio},
  author={Maxim Tkachenko and Mikhail Malyuk and Andrey Holmanyuk and Nikolai Liubimov},
  year={2020-2025},
}
      </code></pre>
    </div>
  </section>

  <!-- ===== Footer ===== -->
  <footer class="footer">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-8 has-text-centered">
          <p>
            This page was built using the
            <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">
              Academic Project Page Template
            </a>,
            adopted from the
            <a href="https://nerfies.github.io" target="_blank">Nerfies</a> project page.
            Licensed under
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">
              Creative Commons Attribution-ShareAlike 4.0 International License
            </a>.
          </p>
        </div>
      </div>
    </div>
  </footer>

  <!-- ===== DataTables init + column-toggle & number formatting ===== -->
  <!-- Add this to your CSS section -->
<style>
  /* Leaderboard styling */
  #leaderboard thead th {
    position: sticky;
    top: 0;
    background-color: #f5f5f5;
    z-index: 1;
  }
  
  .dataTables_wrapper .dataTables_info,
  .dataTables_wrapper .dataTables_paginate {
    margin-top: 1rem;
  }
  
  /* Highlight the highest score in each column */
  td.highlight {
    font-weight: bold;
    background-color: rgba(72, 199, 142, 0.1) !important;
  }
  
  /* Better tab styling */
  .tabs li.is-active {
    font-weight: bold;
  }
  
  /* Custom checkbox styling */
  .control {
    margin: 0.4rem;
  }
  
  .checkbox {
    padding: 0.5rem 0.75rem;
    border-radius: 4px;
    background-color: #f5f5f5;
    display: inline-block;
    transition: all 0.2s;
  }
  
  .checkbox:hover {
    background-color: #e8e8e8;
  }
</style>
<!-- Add this to your JavaScript section -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Leaderboard data from the JSON file
  const leaderboardData = {
    "data": [
      {
        "model": "QwQ-32B",
        "AbioticQuestions_HarvestQuality": 0.142857,
        "AbioticQuestions_InSeason_Nutrients": 0.333333,
        "AbioticQuestions_Soil": 0.2,
        "AbioticQuestions_Weather": 0.166667,
        "BioticQuestions_Diseases": 0.285714,
        "BioticQuestions_Insects": 0.0666667,
        "BioticQuestions_Weeds": 0.0714286,
        "CropQuestions_CoverCrop": 0.0833333,
        "CropQuestions_Crop": 0.307692,
        "ManagementQuestions_Management": 0,
        "Overall": 0.165769
      },
      {
        "model": "claude_3.7_sonnet",
        "AbioticQuestions_HarvestQuality": 0,
        "AbioticQuestions_InSeason_Nutrients": 0,
        "AbioticQuestions_Soil": 0,
        "AbioticQuestions_Weather": 0,
        "BioticQuestions_Diseases": 0,
        "BioticQuestions_Insects": 0,
        "BioticQuestions_Weeds": 0,
        "CropQuestions_CoverCrop": 0,
        "CropQuestions_Crop": 0,
        "ManagementQuestions_Management": 0,
        "Overall": 0
      },
      {
        "model": "claude_3_opus",
        "AbioticQuestions_HarvestQuality": 0,
        "AbioticQuestions_InSeason_Nutrients": 0,
        "AbioticQuestions_Soil": 0,
        "AbioticQuestions_Weather": 0.0833333,
        "BioticQuestions_Diseases": 0,
        "BioticQuestions_Insects": 0,
        "BioticQuestions_Weeds": 0,
        "CropQuestions_CoverCrop": 0,
        "CropQuestions_Crop": 0.0769231,
        "ManagementQuestions_Management": 0,
        "Overall": 0.0160256
      },
      {
        "model": "deepseek_v3",
        "AbioticQuestions_HarvestQuality": 0.142857,
        "AbioticQuestions_InSeason_Nutrients": 0.133333,
        "AbioticQuestions_Soil": 0.0666667,
        "AbioticQuestions_Weather": 0.166667, 
        "BioticQuestions_Diseases": 0.0714286,
        "BioticQuestions_Insects": 0,
        "BioticQuestions_Weeds": 0,
        "CropQuestions_CoverCrop": 0.166667,
        "CropQuestions_Crop": 0.0769231,
        "ManagementQuestions_Management": 0,
        "Overall": 0.0824542
      },
      {
        "model": "gemini2.5-flash",
        "AbioticQuestions_HarvestQuality": 0.857143,
        "AbioticQuestions_InSeason_Nutrients": 0.533333,
        "AbioticQuestions_Soil": 0.733333,
        "AbioticQuestions_Weather": 0.75,
        "BioticQuestions_Diseases": 0.714286,
        "BioticQuestions_Insects": 0.733333,
        "BioticQuestions_Weeds": 0.571429,
        "CropQuestions_CoverCrop": 0.416667,
        "CropQuestions_Crop": 0.615385,
        "ManagementQuestions_Management": 0.882353,
        "Overall": 0.680726
      },
      {
        "model": "gpt4o",
        "AbioticQuestions_HarvestQuality": 0,
        "AbioticQuestions_InSeason_Nutrients": 0,
        "AbioticQuestions_Soil": 0,
        "AbioticQuestions_Weather": 0.0833333,
        "BioticQuestions_Diseases": 0.0714286,
        "BioticQuestions_Insects": 0.0666667,
        "BioticQuestions_Weeds": 0.142857,
        "CropQuestions_CoverCrop": 0,
        "CropQuestions_Crop": 0,
        "ManagementQuestions_Management": 0,
        "Overall": 0.0364286
      },
      {
        "model": "gpto1",
        "AbioticQuestions_HarvestQuality": 0.642857,
        "AbioticQuestions_InSeason_Nutrients": 0.4,
        "AbioticQuestions_Soil": 0.2,
        "AbioticQuestions_Weather": 0.333333,
        "BioticQuestions_Diseases": 0.571429,
        "BioticQuestions_Insects": 0.466667,
        "BioticQuestions_Weeds": 0.357143,
        "CropQuestions_CoverCrop": 0.333333,
        "CropQuestions_Crop": 0.307692,
        "ManagementQuestions_Management": 0.235294,
        "Overall": 0.384775
      },
      {
        "model": "grok-2",
        "AbioticQuestions_HarvestQuality": 0,
        "AbioticQuestions_InSeason_Nutrients": 0.0666667,
        "AbioticQuestions_Soil": 0,
        "AbioticQuestions_Weather": 0,
        "BioticQuestions_Diseases": 0.0714286,
        "BioticQuestions_Insects": 0,
        "BioticQuestions_Weeds": 0.0714286,
        "CropQuestions_CoverCrop": 0.25,
        "CropQuestions_Crop": 0.230769,
        "ManagementQuestions_Management": 0.117647,
        "Overall": 0.080794
      },
      {
        "model": "grok-3-beta",
        "AbioticQuestions_HarvestQuality": 0.5,
        "AbioticQuestions_InSeason_Nutrients": 0.666667,
        "AbioticQuestions_Soil": 0.4,
        "AbioticQuestions_Weather": 0.5,
        "BioticQuestions_Diseases": 0.714286,
        "BioticQuestions_Insects": 0.6,
        "BioticQuestions_Weeds": 0.428571,
        "CropQuestions_CoverCrop": 0.333333,
        "CropQuestions_Crop": 0.615385,
        "ManagementQuestions_Management": 0.588235,
        "Overall": 0.534648
      },
      {
        "model": "llama4_maverick",
        "AbioticQuestions_HarvestQuality": 0.0714286,
        "AbioticQuestions_InSeason_Nutrients": 0.0666667,
        "AbioticQuestions_Soil": 0,
        "AbioticQuestions_Weather": 0.166667,
        "BioticQuestions_Diseases": 0,
        "BioticQuestions_Insects": 0,
        "BioticQuestions_Weeds": 0.0714286,
        "CropQuestions_CoverCrop": 0.166667,
        "CropQuestions_Crop": 0.230769,
        "ManagementQuestions_Management": 0.117647,
        "Overall": 0.0891273
      },
      {
        "model": "llama4_scout",
        "AbioticQuestions_HarvestQuality": 0.0714286,
        "AbioticQuestions_InSeason_Nutrients": 0.133333,
        "AbioticQuestions_Soil": 0,
        "AbioticQuestions_Weather": 0,
        "BioticQuestions_Diseases": 0.0714286,
        "BioticQuestions_Insects": 0,
        "BioticQuestions_Weeds": 0,
        "CropQuestions_CoverCrop": 0,
        "CropQuestions_Crop": 0.153846,
        "ManagementQuestions_Management": 0,
        "Overall": 0.0430037
      },
      {
        "model": "mistral_24B",
        "AbioticQuestions_HarvestQuality": 0,
        "AbioticQuestions_InSeason_Nutrients": 0.0666667,
        "AbioticQuestions_Soil": 0.0666667,
        "AbioticQuestions_Weather": 0,
        "BioticQuestions_Diseases": 0,
        "BioticQuestions_Insects": 0.0666667,
        "BioticQuestions_Weeds": 0.0714286,
        "CropQuestions_CoverCrop": 0,
        "CropQuestions_Crop": 0.153846,
        "ManagementQuestions_Management": 0,
        "Overall": 0.0425275
      },
      {
        "model": "phi3",
        "AbioticQuestions_HarvestQuality": 0,
        "AbioticQuestions_InSeason_Nutrients": 0,
        "AbioticQuestions_Soil": 0,
        "AbioticQuestions_Weather": 0,
        "BioticQuestions_Diseases": 0,
        "BioticQuestions_Insects": 0,
        "BioticQuestions_Weeds": 0,
        "CropQuestions_CoverCrop": 0.0833333,
        "CropQuestions_Crop": 0.0769231,
        "ManagementQuestions_Management": 0,
        "Overall": 0.0160256
      },
      {
        "model": "phi3_sft",
        "AbioticQuestions_HarvestQuality": 0,
        "AbioticQuestions_InSeason_Nutrients": 0,
        "AbioticQuestions_Soil": 0.2,
        "AbioticQuestions_Weather": 0.0833333,
        "BioticQuestions_Diseases": 0,
        "BioticQuestions_Insects": 0.133333,
        "BioticQuestions_Weeds": 0.142857,
        "CropQuestions_CoverCrop": 0.166667,
        "CropQuestions_Crop": 0.153846,
        "ManagementQuestions_Management": 0.0588235,
        "Overall": 0.093886
      }
    ]
  };

  // Initialize DataTable with the embedded data
  const leaderboardTable = $('#leaderboard').DataTable({
    data: leaderboardData.data,
    columns: [
      { data: 'model' },
      { 
        data: 'AbioticQuestions_HarvestQuality', 
        render: function(data) { 
          // Convert to percentage with 2 decimal places
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'AbioticQuestions_InSeason_Nutrients', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'AbioticQuestions_Soil', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'AbioticQuestions_Weather', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'BioticQuestions_Diseases', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'BioticQuestions_Insects', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'BioticQuestions_Weeds', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'CropQuestions_CoverCrop', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'CropQuestions_Crop', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'ManagementQuestions_Management', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      },
      { 
        data: 'Overall', 
        render: function(data) { 
          return (data * 100).toFixed(2) + '%'; 
        } 
      }
    ],
    order: [[11, 'desc']], // Sort by Overall column (descending)
    pageLength: 10,
    lengthChange: false,
    drawCallback: function() {
      highlightBestScores();
    }
  });

  // Function to highlight the best scores in each column
  function highlightBestScores() {
    // For each column except the first (model name)
    for (let i = 1; i <= 11; i++) {
      let maxVal = -1;
      let maxIdx = -1;
      
      // Find maximum value
      leaderboardTable.column(i, {search:'applied'}).data().each(function(value, index) {
        // Convert to number for comparison
        const numValue = parseFloat(value);
        if (numValue > maxVal) {
          maxVal = numValue;
          maxIdx = index;
        }
      });
      
      // Remove highlight class from all cells in this column
      $(leaderboardTable.column(i).nodes()).removeClass('highlight');
      
      // Add highlight class to cell with maximum value
      if (maxIdx >= 0) {
        $(leaderboardTable.column(i).nodes()[maxIdx]).addClass('highlight');
      }
    }
  }

  // Tab switching functionality
  $('#category-tabs li').on('click', function() {
    // Remove active from all tabs
    $('#category-tabs li').removeClass('is-active');
    // Add active to clicked tab
    $(this).addClass('is-active');
    
    // Get the selected view
    const view = $(this).data('view');
    
    // Hide custom view options by default
    $('#custom-view-options').hide();
    
    // Show all columns first
    for (let i = 1; i <= 11; i++) {
      leaderboardTable.column(i).visible(true);
    }
    
    // Apply the appropriate view
    switch(view) {
      case 'overall':
        // Show only model and overall score
        for (let i = 1; i <= 10; i++) {
          leaderboardTable.column(i).visible(false);
        }
        break;
      case 'abiotic':
        // Show abiotic categories (columns 1-4)
        for (let i = 5; i <= 10; i++) {
          leaderboardTable.column(i).visible(false);
        }
        break;
      case 'biotic':
        // Show biotic categories (columns 5-7)
        for (let i = 1; i <= 4; i++) {
          leaderboardTable.column(i).visible(false);
        }
        for (let i = 8; i <= 10; i++) {
          leaderboardTable.column(i).visible(false);
        }
        break;
      case 'crop':
        // Show crop categories (columns 8-9)
        for (let i = 1; i <= 7; i++) {
          leaderboardTable.column(i).visible(false);
        }
        leaderboardTable.column(10).visible(false);
        break;
      case 'management':
        // Show management category (column 10)
        for (let i = 1; i <= 9; i++) {
          leaderboardTable.column(i).visible(false);
        }
        break;
      case 'custom':
        // Show custom view options
        $('#custom-view-options').show();
        // Update visibility based on checkboxes
        $('.toggle-col').each(function() {
          const columnIdx = parseInt($(this).data('column'));
          leaderboardTable.column(columnIdx).visible($(this).prop('checked'));
        });
        break;
    }
    
    // Redraw the table to update column visibility
    leaderboardTable.columns.adjust().draw();
  });
  
  // Handle checkbox changes for custom view
  $('.toggle-col').on('change', function() {
    const columnIdx = parseInt($(this).data('column'));
    leaderboardTable.column(columnIdx).visible($(this).prop('checked'));
    leaderboardTable.columns.adjust().draw();
  });
  
  // Trigger click on Overall tab to set initial view
  $('#category-tabs li[data-view="overall"]').click();
});
</script>
</body>

</html>